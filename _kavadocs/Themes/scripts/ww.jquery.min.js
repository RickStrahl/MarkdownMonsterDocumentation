(function($,undefined){if(HttpClient=function(t){var e=this;this.completed=null,this.errorHandler=null,this.errorMessage="",this.async=!0,this.evalResult=!1,this.contentType="application/x-www-form-urlencoded",this.accepts=null,this.method="GET",this.timeout=2e4,this.headers={},$.extend(e,t),this.appendHeader=function(t,n){e.headers[t]=n},this.send=function(t,n,a,r){return a=a||e.completed,r=r||e.errorHandler,$.ajax({url:t,data:n,type:n?"POST":e.method,processData:!1,contentType:e.contentType,timeout:e.timeout,dataType:"text",global:!1,async:e.async,beforeSend:function(t){for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);e.accepts&&t.setRequestHeader("Accept",e.accepts)},success:function(t,n){var i=null;if(e.evalResult)try{(t=JSON.parseWithDate(t))&&t.hasOwnProperty("d")&&(t=t.d)}catch(t){i=new CallbackException(t)}if(i||t&&(t.isCallbackError||t.iscallbackerror))return t&&(i=t),void(r&&r(i,e));a&&a(t,e)},error:function(t,n){var a=null;if(4==t.readyState){var i=t.responseText;i&&"{"==i.charAt(0)&&(a=JSON.parseWithDate(i)),a||((a=t.status&&200!=t.status?new CallbackException(t.status+" "+t.statusText):new CallbackException("Callback Error: "+n)).detail=i)}a||(a=new CallbackException("Callback Error: "+n)),r&&r(a,e,t)}})},this.returnError=function(t){var n=new CallbackException(t);e.errorHandler&&e.errorHandler(n,e)}},ServiceProxy=function(t){var e=this;this.isWcf=!0,this.timeout=2e4,this.method="POST",this.serviceUrl=t,"object"==typeof t&&$.extend(this,t),this.invoke=function(t,n,a,r,i){var o=null;"GET"!=e.method&&(o=e.isWcf?JSON.stringifyWcf(n):JSON.stringify(n));var s=e.serviceUrl+t;new HttpClient({contentType:"application/json",accepts:"application/json,text/*",method:e.method,evalResult:!0,timeout:e.timeout}).send(s,o,a,r)}},AjaxMethodCallback=function(t,e,n){var a=this;this.controlId=t,this.postbackMode="PostMethodParametersOnly",this.serverUrl=e,this.formName=null,this.resultMode="json",this.timeout=2e4,this.completed=null,this.errorHandler=null,$.extend(this,n),this.Http=null,this.callMethod=function(t,e,n,r){a.completed=n,a.errorHandler=r;var i=new HttpClient({timeout:a.timeout,evalResult:!0,accepts:"application/json,text/*"});a.Http=i;var o={};if("msajax"==a.resultMode)o=JSON.stringifyWithDates(e);else{var s=0;if(e.length){s=e.length;for(var l=0;l<s;l++)o["Parm"+(l+1).toString()]=JSON.stringify(e[l])}$.extend(o,{CallbackMethod:t,CallbackParmCount:s,__WWEVENTCALLBACK:a.controlId}),o=$.param(o)+"&"}var c=a.formName||(document.forms.length>0?document.forms[0].id:"");if("Post"==a.postbackMode)o+=$("#"+c).serialize();else if("PostNoViewstate"==a.postbackMode)o+=$("#"+c).serializeNoViewState();else if("Get"==this.postbackMode)return Url=this.serverUrl,Url.indexOf("?")>-1?Url+=o:Url+="?"+o,i.send(Url,null,a.onHttpCallback,a.onHttpCallback);return i.send(this.serverUrl,o,a.onHttpCallback,a.onHttpCallback)},this.onHttpCallback=function(t){t&&(t.isCallbackError||t.iscallbackerror)?a.errorHandler&&a.errorHandler(t,a):null!=a.completed&&a.completed(t,a)}},ajaxJson=function(t,e,n,a,r){var i=e;"object"==typeof n&&(r=n,n=null,a=null);var o={method:"POST",contentType:"application/json",accepts:"application/json",noPostEncoding:!1};$.extend(o,r);var s=new HttpClient(o);return s.evalResult=!0,null===e||o.noPostEncoding||"POST"!==o.method&&"PUT"!==o.method&&"PATCH"!=o.method||(i=JSON.stringify(e)),s.send(t,i,n,a)},ajaxCallMethod=function(t,e,n,a,r,i){return new AjaxMethodCallback(null,t,i).callMethod(e,n,a,r)},$.postJSON=function(t,e,n,a,r){var i={method:"POST",evalResult:!0};$.extend(i,r);var o=new HttpClient(i);return"object"==typeof e&&(e=$.param(e)),o.send(t,e,n,a)},$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,(function(){t[this.name]!==undefined?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""})),t},onPageError=function(t){showStatus(t.message||t.Message,6e3,!0)},CallbackException=function(t,e,n){this.isCallbackError=!0,this.status=n||500,"object"==typeof t?t.message?this.message=t.message:t.Message&&(this.message=t.Message):this.message=t,this.detail=e||null},StatusBar=function(t,e){var n=this,a=null;n.elementId="_showstatus",n.prependMultiline=!0,n.closable=!1,n.afterTimeoutText=null,n.autoClose=!1,n.noEffects=!1,n.effectSpeed=500,n.cssClass="statusbar",n.highlightClass="statusbarhighlight",n.closeButtonClass="statusbarclose",n.additive=!1,n.interval=0,t&&(a=$(t)),e&&$.extend(this,e),a||(a=$("<div id='_statusbar' class='"+n.cssClass+"'><div class='"+n.closeButtonClass+"'>"+(n.closable?"</div></div>":"")).appendTo(document.body).hide()),n.closeable&&$("."+n.cssClass).click((function(t){n.hide()})),this.show=function(t,e,r,i){if("hide"==t)return n.hide();if(!0===r?a.addClass(n.highlightClass):a.removeClass(n.highlightClass),n.additive){var o=$("<div style='margin-bottom: 2px;'>"+t+"</div>");n.prependMultiline?a.prepend(o):a.append(o)}else if(n.closable){var s=a.find("div.statusbarclose");a.text(t).prepend(s),s.click(n.hide)}else a.text(t);return a.is(":visible")||n.noEffects?a.show():a.slideDown(n.effectSpeed),a.maxZIndex(),e&&(0!=n.interval&&clearInterval(n.interval),n.interval=setTimeout((function(){n.interval=0,a.removeClass(n.highlightClass),n.afterTimeoutText?n.show(n.afterTimeoutText):n.autoClose&&n.hide()}),e)),n},this.hide=function(){return n.noEffects?a.hide():a.slideUp(n.effectSpeed),a.removeClass(n.highlightClass),n},this.release=function(){a&&$(a).remove()}},__statusbar=null,showStatus=function(t,e,n,a){if("object"==typeof t)return __statusbar&&__statusbar.release(),void(__statusbar=new StatusBar(null,t));__statusbar||(__statusbar=new StatusBar),__statusbar.show(t,e,n,a)},$.fn.centerInClient=function(t){var e={forceAbsolute:!1,container:window,completed:null,centerOnceOnly:!1,keepCentered:!1};return $.extend(e,t),this.each((function(t){var n=$(this);if(e.centerOnceOnly){if(n.data("_centerOnce"))return;n.data("_centerOnce",!0)}else n.data("_centerOnce",null);e.keepCentered&&(n.data("_keepCentered")||(n.data("_keepCentered",!0),$(window).resize((function(){n.is(":visible")&&setTimeout((function(){n.centerInClient(e)}))}))));var a=$(e.container),r=e.container==window;e.forceAbsolute&&(r?n.remove().appendTo("body"):n.remove().appendTo(a[0])),n.css("position","absolute");var i=(r?a.width():a.outerWidth())/2-n.outerWidth()/2,o=(r?a.height():a.outerHeight())/2.2-n.outerHeight()/2;i+=a.scrollLeft(),o=(o+=a.scrollTop())<5?5:o,i=i<5?5:i,n.css({left:i,top:o});var s=n.css("zIndex");s&&"auto"!=s||n.css("zIndex",1),e.completed&&e.completed(this)}))},sumDimensions=function(t,e){for(var n=0,a=1;a<arguments.length;a++)n+=Math.max(parseInt(t.css(arguments[a]),10)||0,0);return n},debounce=function(t,e,n){var a;return function(){var r=this,i=arguments,o=n&&!a;clearTimeout(a),a=setTimeout((function(){a=null,n||t.apply(r,i)}),e),o&&t.apply(r,i)}},$.fn.makeAbsolute=function(t){return this.each((function(){var e=$(this),n=!0;e.is(":visible")||(e.show(),n=!1);var a=e.position();n||e.hide(),e.css({position:"absolute",marginLeft:0,marginTop:0,top:a.top,left:a.left}),t&&e.remove().appendTo("body")}))},$.fn.slideUpTransition=function(t){return t=$.extend(t,{cssHiddenClass:"height-transition-hidden"}),this.each((function(){var e=$(this);e.css("max-height","0"),e.addClass(t.cssHiddenClass)}))},$.fn.slideDownTransition=function(t){return t=$.extend(t,{cssHiddenClass:"height-transition-hidden"}),this.each((function(){var e=$(this);e.removeClass(t.cssHiddenClass),e.css("max-height","none");var n=e.outerHeight();e.css("max-height","0"),setTimeout((function(){e.css({"max-height":n})}),1)}))},$.fn.stretchToBottom=function(t){var e={container:$(window),bottomOffset:0,autoResize:!1};return t&&t.length?e.container=t:$.extend(e,t),1==e.autoResize&&($els=this,$(e.container).resize((function(){$els.stretchToBottom({container:e.container,autoResize:!1})}))),this.each((function(){$el=$(this);var t=$el.css("position");$el.makeAbsolute();var n=e.container,a=$(window).innerHeight(),r=parseInt($el.css("top")),i=0;if(n[0]!=window){o=(o=sumDimensions(n,"borderTopWidth","borderBottomWidth","paddingBottom","paddingTop")+sumDimensions($el,"borderTopWidth","borderBottomWidth","marginBottom","marginTop","paddingBottom","paddingTop"))||1,i=(a=n.offset().top+n.outerHeight())-r-Math.ceil(o)-e.bottomOffset}else{var o=sumDimensions($el,"borderTopWidth","borderBottomWidth","marginBottom","marginTop");i=a-r-Math.ceil(o)-e.bottomOffset}$el.css("position",t).css("height",i)}))},$.fn.moveToMousePosition=function(t,e){var n={left:0,top:0};return $.extend(n,e),this.each((function(){$(this).css({left:t.pageX+n.left,top:t.pageY+n.top,position:"absolute"})}))},$.fn.tooltip=function(t,e,n){var a={cssClass:"tooltip",isHtml:!1,onRelease:null};return $.extend(a,n),this.each((function(){var n=new r(this,a);"hide"!=t?n.show(t,e,a.isHtml):n.hide()}));function r(t,e){var n=this,a=$(t);this.cssClass="",this.onRelease=null,$.extend(n,e);var r=a.get(0),i=$("#"+r.id+"_tt");this.show=function(t,e,o){i.length>0&&i.remove(),i=$("<div>").attr("id",r.id+"_tt"),$(document.body).append(i),i.css({position:"absolute",display:"none",zIndex:1e3}),n.cssClass?i.addClass(n.cssClass):i.css({background:"cornsilk",border:"solid 1px gray",fontSize:"8pt",padding:2,"border-radius":"2px","box-shadow":"1px 1px 1px #535353"}),o?i.html(t):i.text(t);var s=a.position(),l=s.left+5,c=s.top+a.outerHeight()-1,d=i.width();d>400&&(d=400),i.css({left:l,top:c,width:d}),i.show(),e&&e>0&&setTimeout((function(){n.onRelease&&n.onRelease.call(r,n),n.hide()}),e)},this.hide=function(){i.length>0&&i.fadeOut("slow")}}},$.fn.watch=function(t){var e=$.extend({properties:null,interval:100,id:"_watcher_"+(new Date).getTime(),watchChildren:!1,callback:null},t);return this.each((function(){var t=this,r=$(this),i={id:e.id,props:e.properties.split(","),vals:[e.properties.split(",").length],func:e.callback,fnc:function(n,r){a.call(t,e.id,n,r)},origProps:e.properties,interval:e.interval,intervalId:null};$.each(i.props,(function(t){var e=i.props[t];i.props[t].startsWith("attr_")?i.vals[t]=r.attr(e.replace("attr_","")):e.startsWith("prop_")?i.vals[t]=r.prop(e.replace("props_","")):i.vals[t]=r.css(e)})),r.data(e.id,i),n(r,e.id,i)}));function n(t,n,a){t.each((function(){var t=$(this);if(window.MutationObserver){var n=t.data("__watcherObserver"+e.id);null==n&&(n=new MutationObserver(a.fnc),t.data("__watcherObserver"+e.id,n)),n.observe(this,{attributes:!0,subtree:e.watchChildren,childList:e.watchChildren,characterData:!0})}else a.intervalId=setInterval(a.fnc,e.interval)}))}function a(t,e,a){var r=$(this),i=r.data(t);if(i){if(i.func){for(var o=!1,s=0;s<i.props.length;s++){var l=i.props[s],c="";if((c=l.startsWith("attr_")?r.attr(l.replace("attr_","")):l.startsWith("prop_")?r.prop(l.replace("prop_","")):r.css(l))!=undefined&&i.vals[s]!==c){i.vals[s]=c,o=!0;break}}o&&(r.unwatch(t),i.func.call(this,i,s,e,a),n(r,0,i))}}}},$.fn.unwatch=function(t){return this.each((function(){var e=$(this),n=e.data(t);try{if(window.MutationObserver){var a=e.data("__watcherObserver"+t);a&&(a.disconnect(),e.removeData("__watcherObserver"+t))}else clearInterval(n.intervalId)}catch(t){}})),this},$.fn.listSetData=function(t,e){var n={noClear:!1,dataValueField:null,dataTextField:null};return $.extend(n,e),this.each((function(){var e=$(this);if(null!=t){n.noClear||e.children().remove(),t.Rows?t=t.Rows:t.rows&&(t=t.rows);var a=!1;for(n.dataTextField||n.dataValueField||(a=!0),x=0;x<t.length;x++){var r=t[x];a?e.listAddItem(r,r):e.listAddItem(r[n.dataTextField],r[n.dataValueField])}}else e.children().remove()}))},$.fn.listAddItem=function(t,e){return this.each((function(){$(this).append($("<option></option>").attr("value",e).text(t))}))},$.fn.listSelectItem=function(t){if(!(this.length<1)){var e=this.get(0);if(e.options){for(var n=e.options.length-1;n>-1;n--)if(e.options[n].value===t)return void(e.options[n].selected=!0);return this}}},$.fn.listGetSelections=function(t){var e=this.find("option:selected");if(t)return e.length>0?n.eq(0).val():null;for(var n=[],a=0;a<e.length;a++)n.push(e.eq(a).val());return n},HoverPanel=function(t,e){var n=this,a=$(t),r=a.get(0);this.serverUrl="",this.timeout=2e4,this.controlId=r.id,this.htmlTargetId=r.id,this.queryString="",this.eventHandlerMode="ShowHtmlAtMousePosition",this.postbackMode="Get",this.completed=null,this.errorHandler=null,this.hoverOffsetRight=0,this.hoverOffsetBottom=0,this.panelOpacity=1,this.adjustWindowPosition=!0,this.formName="",this.navigateDelay=0,this.http=null,$.extend(n,e),this.startCallback=function(t,e,a,r){try{var i=(new Date).getTime();n.busy=i;var o=this.serverUrl;if(t?(n.lastMouseTop=t.clientY,n.lastMouseLeft=t.clientX):n.lastMouseTop=0,n.queryString=null==e?e="":e,r&&(n.errorHandler=r),e?e+="&":e="",e+="__WWEVENTCALLBACK="+n.controlId,n.formName=n.formName||document.forms[0],n.http=new HttpClient,n.timeout=n.timeout,n.http.appendHeader("RequestKey",i),a?a+="&":a="","Post"==n.postbackMode?a+=$(n.formName).serialize():"PostNoViewstate"==this.postbackMode?a+=$(n.formName).serializeNoViewState():"Get"==this.postbackMode&&a&&(e+=a),""!=e&&(o=o.indexOf("?")>-1?o+"&"+e:o+"?"+e),"ShowIFrameAtMousePosition"==n.eventHandlerMode||"ShowIFrameInPanel"==n.eventHandlerMode)return void setTimeout((function(){n.busy&&n.showIFrame.call(n,o)}),n.navigateDelay);setTimeout((function(){n.busy===i&&n.http.send.call(n,o,a,n.onHttpCallback,n.onHttpCallback)}),n.navigateDelay)}catch(t){n.onHttpCallback(new CallbackException(t.message))}},this.onHttpCallback=function(t){n.busy=-1,n.http&&n.http.status&&200!=n.http.status&&(t=new CallbackException(http.statusText)),null==t&&(t=new CallbackException("No output was returned.")),t.isCallbackError?n.errorHandler&&n.errorHandler(t):n.displayResult(t)},this.displayResult=function(t){n.completed&&0==n.completed(t,n)||("ShowHtmlAtMousePosition"==n.eventHandlerMode?(n.assignContent(t),n.movePanelToPosition(n.lastMouseLeft+n.hoverOffsetRight,n.lastMouseTop+n.hoverOffsetBottom),n.show()):"ShowHtmlInPanel"==n.eventHandlerMode&&(n.assignContent(t),n.show()))},this.assignContent=function(t){$("#"+n.htmlTargetId).html(t)},this.movePanelToPosition=function(t,e){try{a.css("position","absolute"),"object"==typeof t?(n.lastMouseTop=t.clientY,n.lastMouseLeft=t.clientX):"number"==typeof t&&(n.lastMouseTop=e,n.lastMouseLeft=t),t=n.lastMouseLeft+3,e=n.lastMouseTop+3;var r=$(window);if(a.css({left:t+r.scrollLeft(),top:e+r.scrollTop()}),n.adjustWindowPosition&&document.body){var i=r.height(),o=a.outerHeight(),s=r.width(),l=a.outerWidth();i<o?e=0:i<n.lastMouseTop+o&&(e=i-o-10),s<l?t=0:s<n.lastMouseLeft+l&&(t=s-l-25),a.css({left:t+r.scrollLeft(),top:e+r.scrollTop()})}}catch(t){window.status="Moving of window failed: "+t.message}},this.showIFrame=function(t){n.busy=!1,t=t||n.serverUrl,$("#"+n.controlId+"_IFrame").attr("src",t).load(n.completed),n.show(),"ShowIFrameAtMousePosition"==n.eventHandlerMode&&n.movePanelToPosition(n.lastMouseLeft+n.hoverOffsetRight,n.lastMouseTop+n.hoverOffsetBottom)},this.hide=function(){this.abort(),a.hide()},this.abort=function(){n.busy=-1},this.show=function(){a.show().css("opacity",n.panelOpacity)}},_ModalDialog=function(t,e){var n=this,a=$(t);if(a.length<1&&(a=$("#"+t)),!(a.length<1)){this.overlayId="_ModalOverlay",this.contentId=a.get(0).id,this.headerId="",this.backgroundOpacity=.75,this.fadeInBackground=!1,this.zIndex=0,this.jOverlay=null,this.keepCentered=!0,this.dialogHandler=null,$.extend(n,e);var r=null;this.show=function(t,e,r){n.contentId&&"string"==typeof t&&(r?$("#"+n.contentId).html(t):$("#"+n.contentId).text(t)),n.headerId&&"string"==typeof e&&(r?$("#"+n.headerId).html(e):$("#"+n.headerId).text(e)),n.zIndex=n.zIndex>0?n.zIndex:$.maxZIndex(),a.css({zIndex:n.zIndex+2}).show().centerInClient();var i=opaqueOverlay({zIndex:n.zIndex+1,sel:"#"+n.overlayId,opacity:n.backgroundOpacity});n.zIndex++,n.fadeInBackground&&i.hide().fadeIn("slow"),a.click(n.callback),n.keepCentered&&$(window).bind("resize.modal",(function(){a.centerInClient()})).bind("scroll.modal",(function(){a.centerInClient()}))},this.hide=function(){a.hide(),n.keepCentered&&$(window).unbind("resize.modal").unbind("scroll.modal"),opaqueOverlay("hide",{sel:"#"+n.overlayId}),a.unbind("click"),r&&(r.show(),r=null)},this.callback=function(t){if($(t.target).is(":button,a,.closebox")){if(n.dialogHandler){if(0==n.dialogHandler.call(t.target,t,n))return;return void setTimeout((function(){n.hide()}),10)}setTimeout((function(){n.hide()}),10)}}}},$.fn.modalDialog=function(t,e,n,a,r){if(this.length<1)return this;var i=this.get(0),o=$(i),s="modal"+i.id,l=o.data(s);return l||(l=new _ModalDialog(o,t)),"string"==typeof t?("hide"!=t&&"close"!=t||l.hide(),"instance"==t||"get"==t?l:void 0):(l.show(e,n,a),o.data(s,l),this)},$.modalDialog=function(t,e,n,a,r){var i=$("#_MBOX");if(i.length<1){i=$("<div>").addClass("dialog dragwindow").attr("id","_MBOX").css({width:400});var o=$("<div>").addClass("dialog-header").attr("id","_MBOXHEADER"),s=$("<div>").addClass("dialog-content").attr("id","_MBOXCONTENT");i.append(o).append(s);var l=$("<div>").css("margin","0px 15px 15px");n||(n=[" Close "]);for(var c=0;c<n.length;c++){var d=$("<input type='button' />").attr("id","_BTN_"+c).css("margin-right","5px").val(n[c]);l.append(d)}i.append(l).appendTo(document.body)}a||(a=function(){return!("_BTN_"!=this.id.substr(0,5)&&!$(this).hasClass("closebox"))}),i.modalDialog({dialogHandler:a,headerId:"_MBOXHEADER",contentId:"_MBOXCONTENT"},t,e,r).draggable({handle:$("#_MBOX .dialog-header")}).closable({closeHandler:function(){var t=!0;a&&(t=a.call(this)),t&&$("#_MBOX").modalDialog("hide")}})},opaqueOverlay=function(t,e){var n=$(window);this.sel="#_ShadowOverlay",this.opacity=.75,this.zIndex=1e4,$.extend(this,e||t);var a=$(sel);if("hide"==t){if(a.length<1)return;return a.hide(),a.get(0).opaqueOverlay=!1,void n.unbind("resize.opaque").unbind("scroll.opaque")}a.length<1&&(a=$("<div>").attr("id",this.sel.substr(1)).css("background","black").appendTo(document.body));var r=a.get(0);return a.show(),r.opaqueOverlay||n.bind("resize.opaque",(function(){opaqueOverlay(t)})).bind("scroll.opaque",(function(){opaqueOverlay(t)})),r.opaqueOverlay=!0,a.css({top:0+n.scrollTop(),left:0+n.scrollLeft(),position:"absolute",opacity:this.opacity,zIndex:this.zIndex}).width(n.width()).height(n.height()),a},!$.fn.draggable){$.fn.draggable=function(t){return this.each((function(){var e=$(this),n=e.data("draggable");"string"!=typeof t?n||(n=new DragBehavior(this,t),e.data("draggable",n)):n&&"remove"==t&&(n.stopDragging(),e.removeData("draggable"))}))};var __dragIndex=1;DragBehavior=function(t,e){var n=this,a=$(t);this.handle="",this.opacity=.75,this.start=null,this.stop=null,this.dragDelay=100,this.forceAbsolute=!1,$.extend(n,e),n.handle=n.handle?$(n.handle,a):a,n.handle.length<1&&(n.handle=a);var r=!1,i=!1,o=0,s=0,l=1;this.mouseDown=function(t){var e=n.handle.get(0),l=!1;if($(t.target).parents().each((function(){this==e&&(l=!0)})),!(r||t.target!=e&&!l||$(t.target).is(".closebox,input,textara,a"))){r=!0,i=!1;var c=n.handle.offset();o=t.pageX-c.left,s=t.pageY-c.top,setTimeout((function(){r&&(a.show().makeAbsolute(n.forceAbsolute),n.dragActivate(t))}),n.dragDelay)}};var c=function(t){t.stopPropagation(),t.preventDefault()};this.dragActivate=function(t){r&&(i=!0,n.moveToMouse(t),r=!0,a.css("zIndex"),a.css("zIndex",15e4),l=a.css("opacity"),a.css({opacity:n.opacity,cursor:"move"}),$(document).bind("mousemove.dbh",n.mouseMove),$(document).bind("selectstart.dbh",c),$(document).bind("dragstart.dbh",c),$(document.body).bind("dragstart.dbh",c),$(document.body).bind("selectstart.dbh",c),n.handle.bind("selectstart.dbh",c),n.start&&n.start(t,n))},this.dragDeactivate=function(t,e){r&&(r=!1,i&&(i=!1,e||n.moveToMouse(t),$(document).unbind("mousemove.dbh"),$(document).unbind("selectstart.dbh"),$(document).unbind("dragstart.dbh"),$(document.body).unbind("dragstart.dbh"),$(document.body).unbind("selectstart.dbh"),n.handle.unbind("selectstart.dbh"),e||(__dragIndex+=10,a.css({zIndex:1e4+__dragIndex,cursor:"auto"}),a.css("opacity",l),n.stop&&n.stop(t,n))))},this.mouseUp=function(t){n.dragDeactivate(t)},this.mouseMove=function(t){r&&n.moveToMouse(t)},this.moveToMouse=function(t){a.css({left:t.pageX-o,top:t.pageY-s})},this.stopDragging=function(){i&&(n.dragDeactivate(null,!0),$(document).unbind("mousedown",n.mouseDown))},$(document).mousedown(n.mouseDown),$(document).mouseup(n.mouseUp)}}$.fn.resizable||($.fn.resizable=function(t){var e={handleSelector:null,resizeWidth:!0,resizeHeight:!0,onDragStart:null,onDragEnd:null,onDrag:null,touchActionNone:!0};return"object"==typeof t&&(e=$.extend(e,t)),this.each((function(){var t,n,a=$(this),r=e.handleSelector?$(e.handleSelector):a;function i(t){t.stopPropagation(),t.preventDefault()}function o(n){var r=l(n);if(e.resizeWidth){var i=t.width+r.x-t.x;a.width(i)}if(e.resizeHeight){var o=t.height+r.y-t.y;a.height(o)}e.onDrag&&e.onDrag(n,a,e)}function s(t){return t.stopPropagation(),t.preventDefault(),$(document).unbind("mousemove.rsz",e.dragFunc),$(document).unbind("mouseup.rsz",s),(window.Touch||navigator.maxTouchPoints)&&($(document).unbind("touchmove.rsz",e.dragFunc),$(document).unbind("touchend.rsz",s)),$(document).unbind("selectstart.rsz",i),a.css("transition",n),e.onDragEnd&&e.onDragEnd(t,a,e),!1}function l(t){var e={x:0,y:0,width:0,height:0};if("number"==typeof t.clientX)e.x=t.clientX,e.y=t.clientY;else{if(!t.originalEvent.touches)return null;e.x=t.originalEvent.touches[0].clientX,e.y=t.originalEvent.touches[0].clientY}return e}e.touchActionNone&&r.css("touch-action","none"),a.addClass("resizable"),r.bind("mousedown.rsz touchstart.rsz",(function(r){if((t=l(r)).width=parseInt(a.width(),10),t.height=parseInt(a.height(),10),n=a.css("transition"),a.css("transition","none"),e.onDragStart&&!1===e.onDragStart(r,a,e))return;e.dragFunc=o,$(document).bind("mousemove.rsz",e.dragFunc),$(document).bind("mouseup.rsz",s),(window.Touch||navigator.maxTouchPoints)&&($(document).bind("touchmove.rsz",e.dragFunc),$(document).bind("touchend.rsz",s));$(document).bind("selectstart.rsz",i)}))}))}),$.fn.closable=function(t){var e={handle:null,closeHandler:null,cssClass:"closebox",imageUrl:null,fadeOut:null};return e=$.extend(e,t),this.each((function(t){var n=$(this),a=n.css("position");a&&"static"!=a||n.css("position","relative");var r=e.handle?$(e.handle,n).css({position:"relative"}):n,i=n.find("."+e.cssClass),o=!0;i.length<1&&((i=e.imageUrl?$("<img />").attr("src",e.imageUrl).css("cursor","pointer"):$("<div></div>")).addClass(e.cssClass),o=!1),i.click((function(t){e.closeHandler&&!e.closeHandler.call(this,t)||(e.fadeOut?$(n).fadeOut(e.fadeOut):$(n).hide())})),e.imageUrl&&i.css("background-image","none"),o||r.append(i)}))},$.fn.contentEditable=function(t){if(!(this.length<1)){var e="0px",n={editClass:null,saveText:"Save",saveHandler:null};return $.extend(n,t),this.each((function(){var t=$(this);if("true"==this.contentEditable)return this;var a=$("<input type='button' value='"+n.saveText+"' class='editablebutton' style='display: block;'/>"),r=function(){n.editClass?t.removeClass(n.editClass):t.css({background:"transparent",padding:e}),t.get(0).contentEditable=!1,a.remove()};return a.click((function(e){n.saveHandler.call(t.get(0),e)&&r()})),t.keypress((function(t){27==t.keyCode&&r()})),t.after(a).css("margin",2),this.contentEditable=!0,n.editClass?t.addClass(n.editClass):(e=t.css("padding"),t.css({background:"lavender",padding:10})),this})),this}},$.fn.editable=function(t){if(this.length<1)return this;var e={editClass:null,saveText:"Save",editMode:"text",saveHandler:null,value:null};return $.extend(e,t),this.each((function(){var n=$(this);if("cleanup"==t)return n.data("cleanupEditor")(),this;if(n.data("editing"))return this;var a=$("<input type='button' />").addClass("editablebutton").css({display:"block"}).val(e.saveText),r=$("<textarea id='_contenteditor'></textarea>").css({fontFamily:n.css("font-family"),minHeight:"18px"});return e.value?r.val(e.value):r.val("text"==e.editMode?n.text():jContext.html()),e.editClass?r.addClass(e.editClass):r.width(n.width()-10).height(n.height()),r.focus().hide().fadeIn("slow").data("editing",n.get(0)).insertBefore(n).keypress((function(t){27==t.keyCode&&cleanupEditor()})),n.data("editing",!0).hide(),n.data("cleanupEditor",(function(){r.remove(),a.remove(),n.data("editing",!1).data("cleanupEditor",null).fadeIn("slow")})),a.click((function(t){var i={text:r.val(),cleanup:n.data("cleanupEditor"),button:a,edit:r,content:n};e.saveHandler.call(r.get(0),i)&&cleanupEditor()})),r.after(a).css("margin",2),this})),this},$.maxZIndex=$.fn.maxZIndex=function(t){var e={inc:10,group:"*"};$.extend(e,t);var n=0;return $(e.group).each((function(){var t=parseInt($(this).css("z-index"));n=t>n?t:n})),this.jquery?this.each((function(){n+=e.inc,$(this).css("z-index",n)})):n};var _tmplCache={};parseTemplate=function(t,e){var n="";try{var a=_tmplCache[t];if(!a){var r="var p=[];with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").replace(/'(?=[^#]*#>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<#=(.+?)#>/g,"',$1,'").split("<#").join("');").split("#>").join("p.push('")+"');}return p.join('');";a=new Function("obj",r),_tmplCache[t]=a}return a.call(e,e)}catch(t){n=t.message}return"< # ERROR: "+n.htmlEncode()+" # >"},isElementInViewport=function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},getBodyFromHtmlDocument=function(t){return t.replace(/^[\s\S]*<body.*?>|<\/body>[\s\S]*$/gi,"").trimStart().trimEnd()},$$=function(t,e){var n=$("#"+t,e);return n.length<1&&(n=$("[id$=_"+t+"],[id*="+t+"_]",e)),n},String.prototype.htmlEncode=function(){var t=document.createElement("div");return"string"==typeof t.textContent?t.textContent=this.toString():t.innerText=this.toString(),t.innerHTML},String.prototype.trimEnd=function(t){return t?this.replace(new RegExp(t.escapeRegExp()+"*$"),""):this.replace(/\s+$/,"")},String.prototype.trimStart=function(t){return t?this.replace(new RegExp("^"+t.escapeRegExp()+"*"),""):this.replace(/^\s+/,"")},String.prototype.repeat=function(t,e){for(var n="",a=0;a<e;a++)n+=t;return n},String.prototype.padL=function(t,e){if(!t||t<1)return this;e||(e=" ");var n=t-this.length;return n<1?this.substr(0,t):(this.repeat(e,n)+this).substr(0,t)},String.prototype.padR=function(t,e){if(!t||t<1)return this;e||(e=" ");var n=t-this.length;return n<1&&this.substr(0,t),(this+e.repeat(n)).substr(0,t)},String.prototype.startsWith=function(t,e){return!(!this||0===this.length)&&(t&&e?t.toLowerCase()===this.toLowerCase().substr(0,t.length):t===this.substr(0,t.length))},String.prototype.extract=function(t,e,n,a){var r=this;if(0===r.length)return"";var i=r.toLowerCase();t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase();var o=i.indexOf(t);if(-1==o)return"";var s=i.indexOf(e,o+t.length);return n||-1!=s?n&&-1==s?a?r.substr(o):r.substr(o+t.length):a?r.substr(o,s-o+t.length):r.substr(o+t.length,s-o-t.length):""},String.prototype.escapeRegExp=function(){return this.replace(/[.*+?^${}()|[\]\/\\]/g,"\\$0")},String.format=function(t,e){for(var n=0;n<arguments.length;n++)t=t.replace(new RegExp("\\{"+n.toString()+"\\}","g"),arguments[n+1]);return t},String.prototype.format=function(){var t=[this];return $.merge(t,arguments),String.format.apply(this,t)},String.prototype.isNumber=function(){return 0!=this.length&&"0123456789".indexOf(this.charAt(0))>-1};var _monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];if(Date.prototype.formatDate=function(t){var e=this;t||(t="MM/dd/yyyy");var n=e.getMonth(),a=e.getFullYear();t.indexOf("yyyy")>-1?t=t.replace("yyyy",a.toString()):t.indexOf("yy")>-1&&(t=t.replace("yy",a.toString().substr(2,2))),t=t.replace("dd",e.getDate().toString().padL(2,"0"));var r=e.getHours();return t.indexOf("t")>-1&&(t=r>11?t.replace("t","pm"):t.replace("t","am")),t.indexOf("HH")>-1&&(t=t.replace("HH",r.toString().padL(2,"0"))),t.indexOf("hh")>-1&&(r>12&&(r-=12),0==r&&(r=12),t=t.replace("hh",r.toString().padL(2,"0"))),t.indexOf("mm")>-1&&(t=t.replace("mm",e.getMinutes().toString().padL(2,"0"))),t.indexOf("ss")>-1&&(t=t.replace("ss",e.getSeconds().toString().padL(2,"0"))),t=t.indexOf("MMMM")>-1?t.replace("MMMM",_monthNames[n]):t.indexOf("MMM")>-1?t.replace("MMM",_monthNames[n].substr(0,3)):t.replace("MM",(n+1).toString().padL(2,"0"))},Number.prototype.formatNumber=function(t,e){var n=this,a=Number.getNumberFormat();if("c"==t){e=e||"$";var r=(n=(n=Math.round(100*n)/100).toLocaleString()).split("."),i=r.length>1?r[1]:"";return e+r[0]+a.d+i.padR(2,"0")}if("n"==t.charAt(0)){if(1==t.length)return n.toLocaleString();var o=t.substr(1);if("number"!=typeof(o=parseInt(o)))return n.toLocaleString();for(var s=(n=n.toFixed(o)).split(a.d),l=s[0],c=s.length>1?a.d+s[1]:"",d=/(\d+)(\d{3})/;d.test(l);)l=l.replace(d,"$1"+a.c+"$2");return l+c}if("f"==t.charAt(0)){if(1==t.length)return n.toString();t.substr(1);return parseFloat(o),"number"!=typeof o?n.toString():n.toFixed(o)}return n.toString()},Number.getNumberFormat=function(t){var e=1000.1.toLocaleString(),n={};return n.d=e.charAt(5),n.d.isNumber()&&(n.d=e.charAt(4)),n.c=e.charAt(1),n.c.isNumber()&&(n.c=","),n.s=t||"$",n},registerNamespace=function(t){for(var e=t.split("."),n=window,a=0;a<e.length;a++){var r=e[a];n=n[r]?n[r]:n[r]={}}},getUrlEncodedKey=function(t,e){e||(e=window.location.search);var n=new RegExp("[?|&]"+t+"=(.*?)&").exec(e+"&");return!n||n.length<2?"":decodeURIComponent(n[1].replace("+"," "))},setUrlEncodedKey=function(t,e,n){var a=(n=n||window.location.search)+"&",r=new RegExp("[?|&]"+t+"=.*?&");return r.test(a)?a=a.replace(r,"&"+t+"="+encodeURIComponent(e)+"&"):a+=t+"="+encodeURI(e),"?"==(a=a.trimStart("&").trimEnd("&")).charAt(0)?a:a="?"+a},$.fn.serializeNoViewState=function(){return this.find("input,textarea,select,hidden").not("#__VIEWSTATE,#__EVENTVALIDATION").serialize()},this.assert||(this.assert=function(t,e){t||(e||(e=""),alert("Assert failed\r\n"+(e||"")+"\r\n"+(arguments.callee.caller?"in "+arguments.callee.caller.toString():"")))}),$.expr[":"].containsNoCase=function(t,e,n){var a=n[3];return!!a&&new RegExp(a,"i").test($(t).text())},$.fn.searchFilter=function(t){var e=$.extend({targetSelector:"",charCount:1,onSelected:null},t);return this.each((function(){$(this).keyup((function(){var t=$(this).val(),n=$(e.targetSelector);n.show(),e.onSelected&&e.onSelected(n),t&&t.length>=e.charCount&&n.not(":containsNoCase("+t+")").hide()}))}))},this.JSON||(this.JSON={}),function(){function f(t){return t<10?"0"+t:t}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,(function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function str(t,e){var n,a,r,i,o,s=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(i=l.length,n=0;n<i;n+=1)o[n]=str(n,l)||"null";return r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof(a=rep[n])&&(r=str(a,l))&&o.push(quote(a)+(gap?": ":":")+r);else for(a in l)Object.hasOwnProperty.call(l,a)&&(r=str(a,l))&&o.push(quote(a)+(gap?": ":":")+r);return r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,r}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var a;if(gap="",indent="","number"==typeof n)for(a=0;a<n;a+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(t,e){var n,a,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.hasOwnProperty.call(r,n)&&((a=walk(r,n))!==undefined?r[n]=a:delete r[n]);return reviver.call(t,e,r)}if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),this.JSON&&!this.JSON.dateParser){var reISO=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.{0,1}\d*))(?:Z|(\+|-)([\d|:]*))?$/,reMsAjax=/^\/Date\((d|-|.*)\)[\/|\\]$/;JSON.parseMsAjaxDate=!1,JSON.useDateParser=function(t){void 0!==t?JSON._parseSaved&&(JSON.parse=JSON._parseSaved,JSON._parseSaved=null):JSON.parseSaved||(JSON._parseSaved=JSON.parse,JSON.parse=JSON.parseWithDate)},JSON.dateParser=function(t,e){if("string"==typeof e){var n=reISO.exec(e);if(n)return new Date(e);if(!JSON.parseMsAjaxDate)return e;if(n=reMsAjax.exec(e)){var a=n[1].split(/[-+,.]/);return new Date(a[0]?+a[0]:0-+a[1])}}return e},JSON.parseWithDate=function(t){var e=JSON._parseSaved?JSON._parseSaved:JSON.parse;try{return e(t,JSON.dateParser)}catch(t){throw new Error("JSON content could not be parsed")}},JSON.dateStringToDate=function(t,e){if(e||(e=null),!t)return e;if(t.getTime)return t;'"'!==t[0]&&"'"!==t[0]||(t=t.substr(1,t.length-2));var n=reISO.exec(t);if(n)return new Date(t);if(!JSON.parseMsAjaxDate)return e;if(n=reMsAjax.exec(t)){var a=n[1].split(/[-,.]/);return new Date(+a[0])}return e}}})(jQuery);
<!DOCTYPE html>
<html>
<head>
        <meta charset="utf-8" />    
    <title>Configuring Site Relative Base Paths - Markdown Monster</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="/docs/_kavadocs/themes/scripts/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/docs/_kavadocs/themes/scripts/fontawesome/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="/docs/_kavadocs/themes/kavadocs.css" />

    <script src="/docs/_kavadocs/themes/scripts/jquery/jquery.min.js"></script>

    <script src="/docs/_kavadocs/themes/scripts/highlightjs/highlight.pack.js"></script>
    <script src="/docs/_kavadocs/themes/scripts/highlightjs-badge.min.js"></script>
    <link href="/docs/_kavadocs/themes/scripts/highlightjs/styles/vs2015.css" rel="stylesheet" />

    <script src="/docs/_kavadocs/themes/scripts/ww.jquery.min.js"></script>
    <script>        
        window.page = {};
        window.page.basePath = "/docs/";      
    </script>
    <script src="/docs/_kavadocs/themes/scripts/kavadocs.js"></script>
    

    <topictype value="topic" />

    <script id="MermaidScript" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>    
        $(document).ready(function () {
            helpBuilder.initializeLayout();
            // expand all top level topics
            setTimeout(helpBuilder.tocExpandTop, 5);
        });
    </script>
    <style>
        .toc li .fa-arrow-up-right-from-square {
            font-size: 0.7em;
            color: goldenrod;
            margin-left: 0.1em;
        }
    </style>

    </head>
<body>    
    <!-- Markdown Monster Content -->
    <div class="flex-master">
        <div class="banner">

            <div class="float-start sidebar-toggle">
                <i class="fa fa-bars"
                   title="Show or hide the topics list"></i>
            </div>
            <img src="/docs/images/logo.png" class="banner-logo" />
         
            	<div class="projectname"> Markdown Monster</div>

            <div class="byline">                
                <img src="/docs/_kavadocs/icons/topic.png">
                Configuring Site Relative Base Paths
            </div>
        </div>
        <div class="page-content">
            <div id="toc" class="sidebar-left toc-content">
                <nav class="visually-hidden">
                    <a href="/docs/tableofcontents.html">Table of Contents</a>
                </nav>
            </div>

            <div class="splitter">
            </div>

            <nav class="topic-outline">
                <div class="topic-outline-header">On this page:</div>
                <div class="topic-outline-content"></div>
            </nav>

            <div id="MainContent" class="main-content">
                <!-- Rendered Content -->
                <article class="content-pane">
                    

<h2 class="content-title">
    <img src="/docs/_kavadocs/icons/topic.png">
    Configuring Site Relative Base Paths
</h2>




<div class="content-body" id="body">
            <p>When rendering documents in the Preview for documents that eventually end up on a Web Site, you often end up with <strong>site relative links</strong> that use a site relative root path that starts with <code>/</code>.</p>
<p>For example if you have images with links like this on a Web site:</p>
<ul>
<li><code>/images/test.png</code></li>
<li><code>/.attachments/images/test.png</code> (VSTS)</li>
<li><code>~/images/test2.png</code></li>
</ul>
<p>the images are unlikely to render properly in the Preview, because MM <strong>can't interpret the <code>/</code> or <code>~/</code> root path</strong> without some help. It simply doesn't know what <code>/</code> or <code>~/</code> means in the context of only an open Markdown Document. By default, when MM renders topics it assumes the document's path as the <strong>base path</strong> for the document and so it really only works reliably when resolving <strong>document relative</strong> or <strong>fully qualified paths</strong>. But it <strong>can't automatically resolve web root relative paths</strong>, because it has no idea where the <code>/</code> path lives in your 'project'.</p>
<p>Site Root Paths are important for a couple of reasons:</p>
<ul>
<li><p><strong>Preview Root Folder Location</strong><br />
This allows the Previewer to use the Site Root Path as the <code>basePath</code> in the rendered HTML document. All links are then rendered relative to this base path. This effectively mimics the behavior of a Web site root folder even if that location is not running as a Web site.</p>
</li>
<li><p><strong>Relative Paths for Link and File Embedding</strong>
This allows you to link or save files in a local folder location that can be resolved as a relative path to the Preview Root Path specified so that <code>/images</code> can resolve cleanly. It also ensures that <code>../</code> links are only followed up to the Root Path and don't embed crazy link <code>../../../</code> folder chains.</p>
</li>
</ul>
<blockquote>
<h4 id="--avoid-absolute-file-paths"><i class="fas fa-warning" style="font-size: 1.1em"></i>  Avoid Absolute File Paths</h4>
<p>Ideally you should <strong>never</strong> link a file using an absolute path as that only works on your local machine. Ideally everything should be linked as either a document relative path, or a 'site' relative path where <code>/</code> is a known root path location.</p>
</blockquote>
<h3 id="site-relative-path-overrides">Site Relative Path Overrides</h3>
<p>To help with this Root Path problem, Markdown Monster allows you to specify a <code>previewWebRootPath</code> - a path that describes the <strong>Project's Root Folder</strong>. The idea is that you can now reference <code>/</code> as a path and resolve to this root path. Likewise links embedded can create a relative path that that can use <code>/</code> at its base as well as reliable link <code>../</code> up to the parent folder, but no further.</p>
<p>There are several settings that let you specify the Root Path <small>(<em>in order of processing priority</em>)</small>:</p>
<ol>
<li><code>previewWebRootPath</code> YAML header in the active document</li>
<li><code>PreviewWebRootPath</code> in an open MM project <small><em>(<code>.mdproj</code> file)</em></small></li>
<li><code>.markdownmonster</code>, <code>_toc.json</code>, <code>docfx.json</code> file in a parent folder</li>
<li><code>&lt;yourProject&gt;.mdproj</code> project file in a parent folder</li>
</ol>
<p>The easiest and most common approach is to just drop a marker file in <strong>#3</strong> in the project root folder. This is a one time configuration for an entire folder hierarchy.</p>
<h4 id="yaml-header">YAML Header</h4>
<p>The first and most localized way is by providing a YAML header in your Markdown document as:</p>
<pre><code class="language-markdown">---
previewWebRootPath: c:\wikis\mywiki\
---

![](/test.png)
</code></pre>
<p>Once you add the header any link that references a path starting with <code>/</code> will use <code>c:\wikis\mywiki</code> as the base path for <code>\</code>. So <code>/images/screenshot.png</code> becomes <code>c:\wikis\mywiki\images\screenshot.png</code>.</p>
<p>To specify the YAML attribute you can add a YAML header to the document at the very top of the Markdown document:</p>
<p>You can use either full path as above or a document relative path:</p>
<pre><code class="language-markdown">---
previewWebRootPath: ..\
---

![](/test.png)
</code></pre>
<p>If you want to be adventurous you can also use Web links:</p>
<pre><code class="language-markdown">---
previewWebRootPath: https://markdowmonster.west-wind.com/
---

![](/test.png)
</code></pre>
<p>Which can work if you have all related resources that live images on a content Web site or CDN.</p>
<h4 id="project-setting">Project Setting</h4>
<p>Markdown Monster has support for projects which is basically a collection of files or folders that you open and save as a collection in the editor. You can use <strong>File → Projects → Save Project</strong> to create a new project which captures the currently active documents that are open as well as the active folder.</p>
<p>The project also has a <code>PreviewWebRootPath</code> property that can be configured using the <strong>Edit Project File</strong> menu option:</p>
<pre><code class="language-json">{
  &quot;ActiveFolder&quot;: &quot;C:\\projects\\MarkdownMonster\\samples&quot;,
  &quot;ActiveSidebarIndex&quot;: 0,
  &quot;OpenDocuments&quot;: [
    {
      &quot;Filename&quot;: &quot;C:\\projects\\MarkdownMonster\\SampleDocuments\\DocFx.md&quot;,
      &quot;IsActive&quot;: true,
      &quot;LastEditorLineNumber&quot;: 0,
      &quot;LastImageFolder&quot;: null
    }
  ],
  
  // This sets the WebRootPath for all files rendered while the project is open
  &quot;PreviewWebRootPath&quot;: &quot;C:\\projects\\MarkdownMonster&quot;
}
</code></pre>
<p>When this value is set it is applied to all documents when rendering links/images that start with a <code>/</code> - same as with the YAML header.</p>
<p>You can set this value to the default value of <code>null</code> if you don't want any overrides to occur on the project level.</p>
<p>If the <code>PreviewWebRootPath</code> property is not set the <code>.mdproj</code> file's path automatically is used.</p>
<h4 id="markdownmonster-or-_tocjson-files-in-parent-hierarchy"><code>.markdownmonster</code> or <code>_toc.json</code> Files in Parent Hierarchy</h4>
<p>You can also use a couple of special files in the 'root' folder that designates your Web root folder. If you have <code>.markdownmonster</code> or <code>_toc.json</code> files in a folder anywhere in the hierarchy of the current document that folder will be used as the preview Web root path.</p>
<h4 id="final-fallback-os-root-directory">Final Fallback: OS Root Directory</h4>
<p>If none of the above apply the <code>/</code> resolution falls back to the OS path, which is likely never what you want, so I recommend you have one of the other solutions in place <strong>or use document relative paths</strong> instead.</p>

    </div>



                </article>

                <hr />
                <div class="float-end">
                    <a href="http://helpbuilder.west-wind.com" target="_blank"><img src="/docs/_kavadocs/images/docmonster.png" style="height: 2.5em"/></a>
                </div>

                <div style="font-size: 0.75em">
                     &copy; West Wind Technologies, 2025 &bull;
                    updated: 2025-02-24
                    <br />
                                        <a href="mailto:support@west-wind.com?subject=Support: Markdown Monster - Configuring Site Relative Base Paths&body=Project%3A%20Markdown%20Monster%0ATopic%3A%20Configuring%20Site%20Relative%20Base%20Paths%0A%0AUrl%3A%0Ahttps%3A%2F%2Fmarkdownmonster.west-wind.com%2Fdocs%2F_5FZ0OZKLN.html">Comment or report problem with topic</a>
                </di>
                <br class="clearfix" />
                <br />
                <!-- End Rendered Content -->
            </div>
        </div>
    </div>
    <!-- End Markdown Monster Content -->
</body>
</html>

